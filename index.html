<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¨çƒé§•ç…§äº’æƒ æŸ¥è©¢ç´¢å¼• - UX Prototype</title>
    <style>
        :root { --primary: #2c3e50; --success: #27ae60; --warning: #f39c12; --danger: #e74c3c; }
        body { font-family: -apple-system, "Helvetica Neue", sans-serif; line-height: 1.6; margin: 0; background: #f4f7f6; color: #333; }
        header { background: var(--primary); color: white; padding: 2rem; text-align: center; }
        .filter-bar { background: #fff; padding: 1rem; text-align: center; border-bottom: 1px solid #ddd; }
        
        .grid-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; padding: 2rem; max-width: 1200px; margin: 0 auto; }
        
        /* ç¬¬ä¸€å±¤ï¼šæ´²éš›å¡ç‰‡ */
        .continent-card { background: var(--primary); color: white; height: 160px; display: flex; flex-direction: column; align-items: center; justify-content: center; border-radius: 12px; cursor: pointer; transition: 0.3s; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        .continent-card:hover { transform: translateY(-5px); background: #34495e; }
        
        /* ç¬¬äºŒå±¤ï¼šåœ‹å®¶å¡ç‰‡ */
        .country-card { background: white; border-radius: 10px; padding: 20px; cursor: pointer; border-left: 8px solid #ccc; transition: 0.3s; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .country-card:hover { box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .country-card.status-success { border-left-color: var(--success); }
        .country-card.status-warning { border-left-color: var(--warning); }
        .country-card.status-danger { border-left-color: var(--danger); }
        
        .badge { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: bold; margin-bottom: 8px; text-transform: uppercase; }
        .badge-success { background: #d4edda; color: #155724; }
        .badge-warning { background: #fff3cd; color: #856404; }
        .badge-danger { background: #f8d7da; color: #721c24; }

        .details { max-height: 0; overflow: hidden; transition: max-height 0.4s ease; font-size: 0.9rem; color: #666; }
        .active .details { max-height: 500px; margin-top: 15px; border-top: 1px dashed #eee; padding-top: 10px; }
        
        #back-btn { margin: 20px; padding: 10px 20px; cursor: pointer; background: #eee; border: none; border-radius: 5px; font-weight: bold; }
    </style>
</head>
<body>

<header>
    <h1>å…¨çƒé§•ç…§äº’æƒ æŸ¥è©¢ç³»çµ±</h1>
    <p>é‡å°å°ç£é§•ç…§æŒæœ‰è€…ä¹‹è‡ªé§•èˆ‡æ›ç…§æŒ‡å¼•</p>
</header>

<div class="filter-bar">
    <label>ç›®å‰èº«ä»½ï¼š<strong>å°ç£é§•ç…§æŒæœ‰è€… (æ°¸ä¹…å±…æ°‘)</strong></label>
</div>

<main id="app">
    <section id="continents-view">
        <div class="grid-container" id="continent-grid"></div>
    </section>

    <section id="countries-view" style="display:none;">
        <button id="back-btn" onclick="showContinents()">â† è¿”å›å€åŸŸé¸æ“‡</button>
        <div class="grid-container" id="country-grid"></div>
    </section>
</main>

<script>
    const CONFIG = { dataUrl: 'data/data.json' };
    let allData = [];
    const continents = ["äºæ´²", "ä¸­å—ç¾æ´²", "éæ´²", "æ­æ´²", "æ¾³æ´²åŠå¤§æ´‹æ´²", "åŒ—ç¾æ´²"];

    async function fetchData() {
        try {
            const res = await fetch(CONFIG.dataUrl);
            allData = await res.json();
            renderContinents();
        } catch (e) {
            console.error("è³‡æ–™è¼‰å…¥å¤±æ•—:", e);
            document.body.innerHTML += "<p style='text-align:center; color:red;'>ç„¡æ³•è¼‰å…¥ data/data.jsonï¼Œè«‹ç¢ºèªæª”æ¡ˆè·¯å¾‘æ˜¯å¦æ­£ç¢ºã€‚</p>";
        }
    }

    function renderContinents() {
        const grid = document.getElementById('continent-grid');
        continents.forEach(name => {
            const card = document.createElement('div');
            card.className = 'continent-card';
            card.innerHTML = `<h3>${name}</h3><small>é»æ“ŠæŸ¥çœ‹åœ‹å®¶</small>`;
            card.onclick = () => showCountries(name);
            grid.appendChild(card);
        });
    }

    function showCountries(region) {
        document.getElementById('continents-view').style.display = 'none';
        document.getElementById('countries-view').style.display = 'block';
        
        const grid = document.getElementById('country-grid');
        grid.innerHTML = '';
        
        const filtered = allData.filter(d => d.region === region);
        filtered.forEach(item => {
            const card = document.createElement('div');
            // ä»¥ã€Œåœ‹éš›é§•ç…§ã€ç‡ˆè™Ÿä½œç‚ºå¡ç‰‡ä¸»è‰²èª¿
            card.className = `country-card status-${item.international.status}`;
            card.innerHTML = `
                <span class="badge badge-${item.international.status}">åœ‹éš›é§•ç…§ï¼š${item.international.status}</span>
                <h3 style="margin:5px 0;">${item.country}</h3>
                <small>ä¸€èˆ¬é§•ç…§æ›ç…§ï¼š${item.general.status}</small>
                <div class="details">
                    <p><strong>ğŸš— ç•¶åœ°ä½¿ç”¨ï¼š</strong>${item.international.usage}</p>
                    <p><strong>ğŸ“ å‚™è¨»ï¼š</strong>${item.international.notes}</p>
                </div>
            `;
            card.onclick = () => card.classList.toggle('active');
            grid.appendChild(card);
        });
    }

    function showContinents() {
        document.getElementById('continents-view').style.display = 'block';
        document.getElementById('countries-view').style.display = 'none';
    }

    fetchData();
</script>
</body>
</html>
